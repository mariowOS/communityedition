<!-- 
mariowOS OOBE (Out Of Box Experience) - (C) 2025 mariowstech and the mariowOS team 
Licensed under the Apache License, Version 2.0; you can use this file if you give credits to the original creators and you may not use this file except in compliance with the License. 
Obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0. 
This project use open source and free fonts sourced from Google Fonts. Google Fonts is a trademark of Google LCC, privacy docs are at https://developers.google.com/fonts/faq/privacy 
-->

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.tailwindcss.com"></script>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700&family=Sacramento&display=swap" rel="stylesheet">

<style>
html {
    font-family: Inter, -apple-system, BlinkMacSystemFont, sans-serif;
}

body {
    background-image: url('/desktop/assets/oobewp.png');
    background-size: cover;
    background-position: center;
    height: 100vh;
    overflow: hidden;
    margin: 0;
}

.ethereal-bg {
    width: 100vw;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

/* apple inspo fades */
@keyframes appleFadeIn {
    from { opacity: 0; transform: translateY(14px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes appleFadeOut {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(-14px); }
}

/* liquid glass animation style */
.apple-in, .apple-out {
    color: rgba(255,255,255,0.65);
    letter-spacing: 0.02em;
    font-weight: 600;
    text-shadow:
        0 0 20px rgba(255,255,255,0.4),
        0 0 42px rgba(255,255,255,0.3),
        0 1px 0 rgba(255,255,255,0.95),
        0 10px 30px rgba(0,0,0,0.25);
    filter: saturate(1.2);
}

.apple-in {
    animation: appleFadeIn 0.8s ease-out forwards;
}

.apple-out {
    animation: appleFadeOut 0.6s ease-in forwards;
}

/* button animation */
@keyframes buttonIn {
    from { opacity: 0; transform: translateY(40px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes buttonOut {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(40px); }
}

.show-button {
    animation: buttonIn 0.5s ease-out forwards;
}

.hide-button {
    animation: buttonOut 0.5s ease-in forwards;
}

/* glass text */
.glass-text {
    color: rgba(255,255,255,0.65);
    letter-spacing: 0.02em;
    font-weight: 600;
    text-shadow:
        0 0 20px rgba(255,255,255,0.4),
        0 0 42px rgba(255,255,255,0.3),
        0 1px 0 rgba(255,255,255,0.95),
        0 10px 30px rgba(0,0,0,0.25);
    filter: saturate(1.2);
}

#welcome-text {
    font-family: "Sacramento", cursive;
    font-style: normal;
}
</style>
</head>

<body>

<div id="main-container" class="ethereal-bg text-center">
    <h1 id="welcome-text"
        class="glass-text text-7xl md:text-8xl lg:text-9xl select-none">
    </h1>

    <div id="action-button"
         class="absolute bottom-16 opacity-0 pointer-events-none">
        <button id="next-button"
            class="bg-white text-gray-800 px-8 py-4 shadow-lg transition hover:scale-105 active:scale-95 rounded-full">
            →
        </button>
    </div>
</div>

<script>
const greetings = [
    { lang: "en", text: "Hello" },
    { lang: "it", text: "Ciao" },
    { lang: "fi", text: "Hei" },
    { lang: "vi", text: "Xin chào" },
    { lang: "el", text: "Γεια σας" },
    { lang: "ka", text: "მოგესალმებით" },
    { lang: "pl", text: "Witamy" },
    { lang: "ru", text: "Здравствуйте" },
    { lang: "es", text: "Hola" },
    { lang: "fr", text: "Bonjour" },
    { lang: "jp", text: "Konnichiwa" },
    { lang: "mn", text: "Ni hao" },
    { lang: "hi", text: "Namaste" },
    { lang: "ar", text: "As-salam alaykum" },
    { lang: "pe", text: "سلام" }
];

const SWITCH_INTERVAL = 2000;
const NEXT_PAGE_URL = "/desktop/license.html";

let index = 1;

const textEl = document.getElementById("welcome-text");
const buttonWrapper = document.getElementById("action-button");
const nextButton = document.getElementById("next-button");

function switchGreeting() {
    const g = greetings[index];
    document.documentElement.lang = g.lang;

    textEl.classList.remove("apple-in");
    textEl.classList.add("apple-out");

    setTimeout(() => {
        textEl.textContent = g.text;
        textEl.classList.remove("apple-out");
        textEl.classList.add("apple-in");
    }, 300);

    index = (index + 1) % greetings.length;
}

window.onload = () => {
    textEl.textContent = greetings[0].text;
    textEl.classList.add("apple-in");
    setInterval(switchGreeting, SWITCH_INTERVAL);
};

/* show button when mouse is near bottom */
let buttonVisible = false;

document.addEventListener("mousemove", (e) => {
    const threshold = window.innerHeight * 0.75;

    if (e.clientY > threshold && !buttonVisible) {
        buttonVisible = true;
        buttonWrapper.classList.remove("hide-button");
        buttonWrapper.classList.add("show-button");
        buttonWrapper.style.opacity = "1";
        buttonWrapper.style.pointerEvents = "auto";
    }

    if (e.clientY <= threshold && buttonVisible) {
        buttonVisible = false;
        buttonWrapper.classList.remove("show-button");
        buttonWrapper.classList.add("hide-button");
        buttonWrapper.style.pointerEvents = "none";
    }
});

/* button navigation */
nextButton.addEventListener("click", () => {
    document.body.style.pointerEvents = "none";
    document.body.style.opacity = "0";
    setTimeout(() => {
        window.location.href = NEXT_PAGE_URL;
    }, 500);
});
</script>

</body>
</html>
